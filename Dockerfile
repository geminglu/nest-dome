# syntax=docker/dockerfile:1

FROM node:18-alpine

ENV NODE_ENV=production
ENV DB_HOST=localhost
ENV DB_PORT=3306
ENV DB_USERNAME=root
ENV DB_PASSWORD=123456
ENV DB_DATABASE=application
ENV PORT=3000
ENV SECRET=SECRET
ENV ACCESS_TOKEN_EXPIRES=36000000
ENV REFRESH_TOKEN_EXPIRES=72000000
ENV PUBLIC_KEY=MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAwKJwihLZsDH4nVafibvQ2IkyYxS3NWJVRO/CYyiBznyHCh81y9naXCs+FZfFhO2ka74I0c44rNj2VTpfsfNTEKvJsVAH924/qPDQBOuleP0QdJAL3vIF8IzgFCg85raWsdNhwJQKEk737vsKoo4CUvi0i0CiJcOM9H0dfX3aq3NFvi2wi1lQbzVNj/E/0slrR/JeNOFIX0QYFPocq0VMCkMPECsj8hgA0ZYmB5cLYKC0i6GBWIvGC88JfkLQ6GOsPRbplsUcd2inh+az2Tcl6yY6lkIOr9YlZJsvqIGDJMoyg1RRpCJqMdFJca2BXJLfZnKyXh56bphwyuihl8h5rhk9+e+xsWwr2E0WciCmL6xKVBYxL54CgHse+iOadVhwNUUE+pq8+toFjuH45kZCpactX86wcpnYnV7gcsgxCnlJEhOOUXYYUSAKC9HLuFSK+OSXptLO6j+z+PSZ0sWZ3iTNEjHQvmDxhorEAWzLFB+w1ay3586mH/Uhh9sUPSWACAHWyQWtVmdRgywjtL3FVZzJujz8tDFnJAE2OUI73EsYuPIDMsscCVbV+oBZzmuyysnM4sfT4xat8ig+nJ64ceByR/n+Q3y8S9LA6npubg8ye1S0Sb4JfLvOsBJiwfHq/EuEzOqMpqBXNuJr6A3f5PpCm87k/LC4WVSSzmxxFMsCAwEAAQ==
ENV PRIVATE_KEY=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

ENV GRAPHIC_EXPIRATION_TIME=1500000 

WORKDIR /app

COPY ["dist", "./"]

EXPOSE 80
CMD ["node", "dist/main"]